import{a as q,b as D}from"/build/_shared/chunk-O7ZHU2XC.js";import{a as c}from"/build/_shared/chunk-6KU7KB65.js";import{a as m}from"/build/_shared/chunk-TLKRROZH.js";import{a as C,b as P,c as A,d as E,e as S,f as L,g as U,k as F}from"/build/_shared/chunk-PLAFFANM.js";import{b as k}from"/build/_shared/chunk-6NL3JN34.js";import"/build/_shared/chunk-YE2UENJQ.js";import{a as x}from"/build/_shared/chunk-KTYYHXXO.js";import{a as O,f as u}from"/build/_shared/chunk-57Q5BGZR.js";import"/build/_shared/chunk-HB276KJY.js";import{a as I,c as y,f as N,n as d}from"/build/_shared/chunk-JP2RFOQ7.js";import{d as s}from"/build/_shared/chunk-G5WX4PPA.js";var Z=s(O(),1);var n=s(I(),1);var r=s(d(),1);function R(){let B=y(),{toast:p}=x(),[f,H]=(0,n.useState)(""),[l,_]=(0,n.useState)(""),[g,$]=(0,n.useState)(""),[w,v]=(0,n.useState)(null),[o,b]=(0,n.useState)(!1),z=a=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/.test(a);return(0,r.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),!o)try{if(b(!0),v(null),!z(l))throw new Error("Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, and one number");if(l!==g)throw new Error("Passwords do not match");let{data:t,error:i}=await u.auth.signUp({email:f,password:l,options:{emailRedirectTo:`${window.location.origin}/dashboard`}});if(i)throw i;if(t.user&&t.user.email){let G={id:t.user.id,email:t.user.email},{error:h}=await u.from("profiles").insert(G);if(h)throw h;p({title:"Account created",description:"Please check your email to verify your account."}),B("/onboarding")}}catch(t){let i=t instanceof Error?t.message:"Failed to create account";v(i),p({variant:"destructive",title:"Error",description:i})}finally{b(!1)}},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m,{htmlFor:"email",children:"Email"}),(0,r.jsx)(c,{id:"email",type:"email",placeholder:"Enter your email",value:f,onChange:a=>H(a.target.value),required:!0,disabled:o,className:"bg-background"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m,{htmlFor:"password",children:"Password"}),(0,r.jsx)(c,{id:"password",type:"password",placeholder:"Create a password",value:l,onChange:a=>_(a.target.value),required:!0,disabled:o,className:"bg-background"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, and one number"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,r.jsx)(c,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:g,onChange:a=>$(a.target.value),required:!0,disabled:o,className:"bg-background"})]}),w&&(0,r.jsx)(L,{variant:"destructive",children:(0,r.jsx)(U,{children:w})}),(0,r.jsxs)(k,{type:"submit",className:"w-full",disabled:o,children:[o&&(0,r.jsx)(F,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Account"]})]})}var e=s(d(),1);function T(){return(0,e.jsx)("main",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:(0,e.jsxs)("div",{className:"w-full max-w-md",children:[(0,e.jsxs)("div",{className:"text-center mb-8",children:[(0,e.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"Create Account"}),(0,e.jsx)("p",{className:"text-muted-foreground mt-2",children:"Sign up to start tracking your periods"})]}),(0,e.jsxs)(C,{children:[(0,e.jsxs)(P,{children:[(0,e.jsx)(A,{children:"Sign Up"}),(0,e.jsx)(E,{children:"Choose your preferred sign up method"})]}),(0,e.jsxs)(S,{className:"space-y-6",children:[(0,e.jsx)(D,{mode:"signup"}),(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,e.jsx)(q,{className:"w-full"})}),(0,e.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,e.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),(0,e.jsx)(R,{}),(0,e.jsxs)("div",{className:"text-center text-sm",children:[(0,e.jsxs)("span",{className:"text-muted-foreground",children:["Already have an account?"," "]}),(0,e.jsx)(N,{to:"/login",className:"text-primary underline-offset-4 hover:underline",children:"Sign in"})]})]})]})]})})}export{T as default};
